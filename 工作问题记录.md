#### http 协议

request
```http
get / http1.0
host: xxx.com
expires: new Date()
```
response
```http
http1.0 200 ok
```

* http格式
  * request: 协议、路径、请求方式、header头;
  * response: 协议、状态码、返回值;
* 优点
  * 拓展性强


#### HTTP缓存

* expires: 设置过期时间;   
* cache-control: 控制缓存;
  * 应用范围: public/private
  * 设置: no-cache  
  * 设置过期时间：max-age
* if-none-match:
* last-modified: 服务端下发文件最后修改时间;
  
* last-modified-since: 推测是客户端发送文件最后修改时间，服务器根据这个时间点判断是下发实体内容还是304;
* vary: 一种和user-agent相关的校验方式，比如用在移动端和PC端，可以让cache知道当前是哪种设备，应该使用哪个文件;
* eTag: 强校验的方式，校验的逻辑和文件内容相关;

* 新鲜度：衡量文件是否过期的指标;
* 驱逐算法: 一种清除浏览器文件缓存的算法;
* revving技术: 给文件设置版本号可以重新请求新的文件;
* 缓存时间计算公式: cacheTime = responseTime + expireTime - currentTime;


#### HTTP Cookie

* set-cookie:服务器端设置cookie;
    * httponly: 阻止js读取cookie;
    * security: 安全性;    
* 解决xss注入的问题
    * httponly
* 解决CSRF跨站请求伪造
    * CSRF: 通过获取用户Cookie信息，模拟请求发给服务器;
    * 解决方法: 
        * httponly: js无法获取cookie;        
        * sameSite: 
            * none: 可以在相同站点或者跨站上发送cookie;
            * strict: 只能在相同的站点下发送cookie;
            * lex: 
        * 后端请求判断用户的
        * referer: 显示从哪个入口发出的请求;

#### HTTP CORS（Cross-Origin Resource Share)

* CORS的使用场景
  * Canvas载入图片;
  * 子域名之间的数据请求;
  * 子域名之间共用一些Cookie数据;
* CORS如何开启: 通过设置cross-allow-origin字段;
  * access-control-allow-origin/method/header/expires...: *  

#### HTTP各个版本介绍

* HTTP各个版本
  * HTTP 0.9
  * HTTP 1.0
  * HTTP 1.1
  * HTTP 2.0 
* HTTP各个版本区别和演化方向
  * 






2020-06-22

#### promise.then,process.nextTick, setTimeout 以及 setImmediate的执行顺序


#### 哪些情况页面会阻塞？



#### cookie安全使用逻辑？

Cookie设计中有个特点:
1. http请求时会带上Cookie信息（这个为客户端模拟请求创造了条件)
2. 同源策略下可以读取Cookie;

阻止Cookie被读取的方式：
1. 使用同源策略阻止Cookie被读取;
2. 使用HttpOnly的方式;（服务器端设置）

HTTP提交Cookie的两个条件
1. 同源策略
2. 相同路径或者父路径;

#### 浏览器渲染流程？

1. 解析HTML转换成DOM树;
2. 解析CSS文件转换为CSS规则树;
3. 将DOM树和CSS规则树合在一起形成渲染树;
4. 解析渲染树进行布局和绘制;


#### Object.__proto__和Function.prototype是什么？他们区别是什么？
`__proto__`是一个访问属性，用于访问对象内部属性;
构造函数的实例的`__proto__`指向的构造函数的作用域;
通过字面量生成的变量的`__proto__`是什么？


#### 字面量
通过`var a = "111'`和 `var a = new String("111")`的区别是什么？ 一个字符串、一个是对象;
`String`既可以做对象、函数和构造函数;

#### css 移动端适配有哪些？
viewport、media query、rem

#### instanceof原理？
判断实例和构造函数的是否具有同一个prototype


#### 事件绑定有哪些？

* 直接绑定在DOM上，比如onClick;
* 通过js进行绑定;
* 通过addEventListen进行绑定;


#### dom0和dom2级事件有哪些？


#### ES6 Module AMD CMD CommonJS区别？

`ES6 Module`: 是ES6采用模块化标准, 主要`import`和`exports`为关键词来进行输入输出;
`AMD`: 异步化模块引用方案, 主要代表是require.js; 主要通过define、require.config, require来进行引用。当代码执行时异步化引用JS;
`CMD`: `AMD`的优化版本，不是一次性引入所有文件，而是在使用过程中引用;
`Common`: 是`Node.js`使用一套方案，主要用require、modules、exports等关键词;


#### `import`和`require`的区别;

1. `import`常用于编译时调用（必须放在页面头部代码逻辑之前），`require`则可以运行时调用;
2. `import`具有多个功能比如as、单独导入、导入多个接口等;
3. `import`获取是值引用，`require`获得是值拷贝;


#### 数组API有哪些？
数组相关方法：
  增：push、concat
  删：pop、splice，slice
  改: reverse、flat、
  查: filter、reduce、reduceRight、includes、indexOf、every、map、forEach、some  
	其他：join，toString		
    
  循环： filter、reduce、reduceRight、includes、indexOf、every、map、forEach、some  
  不循环：
  	增加删除: pop、push、splice、slice、 
    连接：concat、
		修改：reverse、flat
    

	哪些方法可以改变之前数组：push、concat、reverse、splice;
  哪些方法不改变之前数组: slice、forEach、map、filter、reduce、reduceRight、includes、indexOf、every、map、forEach

#### 对一个框架认识的几个层次？
第零层: 是什么？（有哪些API)
第一层: 怎么用？（哪些场景下适用、在工作中使用)
第二层：怎么实现的？ (源码中有哪些概念? 自己动手试着实现一下?)
第三层：怎么和小白说明白？(如何简洁表达出来)
第四层：有哪些地方有问题可以优化？()


#### react setState

最常见的API: setState(object, fn);

setState之前考虑是在频繁调用的时候不影响性能。那setState是异步还是同步？

如果是我自己设计的话，我会怎么设计？
* 我会采用类似防抖策略: 将setState方法都存在一个数组中，然后在一个时间段内集中处理;
* 集中处理的逻辑: 将setState参数都存在数组中，一次处理一个并将值传给下一个（还是合并？）;

对于setTimeout的情况是什么？ 不在批量处理的逻辑中;

```js

// 收集
this.setState({
  a: this.state.a + 1;
});
this.setState({
  a: this.state.a + 1;
});

// 合并
[{
  a: this.state.a + 1
},{
  a: this.state.a + 1
}];

arr.map((obj)=>{
   
});

```
setTimeout、promise、react事件、原生事件、正常、匿名函数五种情况下，哪些是异步哪些是同步？

异步情况: react事件、正常、匿名函数（异步情况下，如果setState传参是对象的话会被合并并且不会实时展现出来);

同步情况：setTimeout、promise、原生事件;

解决方案：setState(updater, callback);

相关资料：[真的了解react](https://juejin.im/post/5b45c57c51882519790c7441#heading-4)


#### react事务的概念


#### react性能优化有哪些方法？

* setTimeout、setInterval等时间器要在componentWillUnMount中销毁;
* 使用shouldComponentUpdate来做性能优化;
* 使用异步组件、动态加载组件;
* 使用Immutable.js


#### react组件之间通信方式？
* 使用props在组件间传递
* 使用redux状态管理功能进行传递
* context方式
* 使用组件传递: 将需要用于数据的组件放在最一层，然后一层层传下去
* 事件订阅

props方案对比
* props: 层级深调用繁琐; 最简单最自然;
* context: context
* redux: 需要引用特定库、需要按照`redux`官方写法编写;
* 使用组件传递: 将


#### react context方法

* react.createContext(defaultValue): 创建context;
* <Context Provider={}></Context>: 暴露具体的值
* displayName


#### react event

如何在DOM节点上绑定事件？

* 箭头函数;
* 使用bind方式;


#### 高阶组件 HOC

* 在组件基础上进行一次封装, 就像是在函数基础上进行封装;


#### 生命周期

* 初始化
  * 
* 载入  
  * componentWillMount
  * componentDidMount
* 更新
  * componentWillPropUpdate
  * commponentShouldUpdate
  * 
* 销毁
  * componentWillUnMount


#### SSR


2020-06-17

#### redux 
#### Javascript数据类型转换

基本数据类型：string、number、boolean、null、undefined、symbol
引用数据类型：object

强制类型转换: toString等方法;

#### DOM节点





#### http网络请求相关

常见的状态码有哪些？
  * 200:
  * 301: 
  * 302:
  * 304:
  * 404:
  * 501:
  * 502:

常见的状态码开头
  * 1* 继续操作
  * 2*：请求成功;
    * 200: 请求成功;
    * 203: 
  * 3*: 重定向;
    * 301: 请求的内容永久被修改;
    * 302: 请求的内容临时被修改;
    * 303: 查看其他地址;
    * 304: 未修改;    
  * 4*: 客户端错误;
    * 400: 请求语法错误，服务端无法理解;
    * 401: 要求用户身份验证;
    * 403: forbidden
    * 404: not find;
  * 5*: 服务端错误
    * 500: 服务器内部出现错误;
    * 501: 不支持请求功能;
    * 502: 从网关或者代理服务器请求收到的相应无效;


TCP协议和UDP协议的区别？

TCP是面向连接的，UDP不需要连接;
TCP连接的三次握手: 主机A和主机B;
  1. 第一次握手：我要给你发数据；
  2. 第二次握手：好的，你什么时候发；
  3. 第三次握手：我现在就发

三次握手的目的：确认数据的请求和接收的同步;

http的缓存策略是什么，强制缓存和协商缓存？

缓存策略是尽量使用客户端缓存，这样的好处是提高应用性能和降低服务器压力;

强制缓存：
  * expire：
  * Cache-Control:
协商缓存:
  * if-modified
  * if-modified-since


http和https的区别？

跨域的方式？

  * cors
  * 代理(proxy)
  * Iframe
    * postmess + iframe
    * window.name + iframe
  * JSOP
  * websocket
  
同源策略？
同源是指： 协议 + 域名(子域 + 主域) + 端口 都要一致


#### web安全相关

XSS是什么，怎么防范？

XSS是跨站脚本攻击，对尖括号进行转义;

CSRF是什么，怎么防范？
跨站请求伪造，使用同源检测、cookie双重验证;


#### css常见

布局: 

flex: 弹性布局

BFC: block formating context, 作用是将当前容器和其他容器隔离开，容器不会影响其他容器;


选择器: id >class(伪类)>标签

属性权值：内联 > id > class = 伪类 = 属性选择器  > 标签 


普通

分组器

组合器

css3组合选择器：
 * 子节点
  * `>`: 获取子节点的元素;
 * 兄弟节点
  * `+`: 获取紧邻的兄弟节点;
  * `~`: 获取之后所有兄弟节点;

伪类和伪元素的区别：
* 伪类：表达一种状态或者条件信息（比如按钮点击三态等等）;
* 伪元素：表达一种没有被包含的实体;



#### let和var的区别有哪些？

* let相比var没有变量提升、不能重复定义;


#### redux的实现原理

#### 如果将DOM字符串转换成对象？
使用`DOMParser`或者使用`createElement`和`innerHTML`方式，先将字符串转换dom节点，然后将dom节点转换成object;

#### 几种排序的区别?

冒泡排序: 通过双层循环将每个元素和其他元素都做一次比较;

快速排序：通过一种分治的手段将数组分解成更小的数组，再将处理好的每个组件合并起来;

插入排序：打牌时候的摸牌逻辑,抓到一张牌和手上牌做比较，然后放大合适的位置;

选择排序：选择最大或者最小放在排序序列的尾部或者头部;


选择和插入的区别？
1. 比较的对象不同：插入排序比较的对象是已排序的数组, 选择排序的比较对象是未排序的数组;


#### 怎么解决循环过程中数组内容发生变化？


#### 分治法应用的场景有哪些？


#### 尾递归和普通递归的区别？


#### 快排的时间复杂度为什么是O(nlogn)空间复杂度为什么是O(logn)? 


2020-06-15
#### 严格模式下做了哪些事情？


#### 算法两个衡量指标：时间复杂度和空间复杂度？

时间复杂度：我的理解是一段代码运行需要时间长度;

空间复杂度：我的理解时一段代码运行时需要空间大小; 

时间复杂度和空间复杂度不代表具体数值，而是代表一个趋势，是指数、还是对数等;

#### React-Router如何实现监听？

如果使用`hashHistory`的话，则通过`onhashchange`方式来触发，但是`hashchange`的方式有几个劣势：
1. 对搜索引擎不友好;
2. 不能很好表达出层级关系;
3. 提供的信息不够

`hashchange`的优势：
1. 简单
2. 兼容性好

如果使用`browserHistroy`的话，可以通过`pushState`和`replaceState`方式来改变url;
使用`Link`组件可以进行`push`和`replace`操作，通过可以触发内置`History`对象，当浏览器前进和后退则又可以触发`popstate`事件，所以覆盖所有操作;

`memoryHistory`则用于`node`环境中;


#### history.pushState和location.href=“#”有哪些差异？
1. pushState可以传值和title，而location.href不能;
2. pushState可以不通过hash改变URL同时页面不会刷新;
3. pushState可以比location.href改变的内容更多, 比如pushState可以改hash也可以改url;



#### Node事件轮询和Web事件轮询的区别？
Node相比Web少了UI，所以没有UI排版等工作;

Node将异步分为六个阶段，每个阶段执行对应阶段的任务;
Node有哪六个阶段？timer/IO/prepare/poll/check/close


#### 严格模式和非严格模式有哪些区别？


#### class声明和function声明的区别？


#### 为什么构造函数在没有返回值时会自动将this返回（自动包装）？


2020-06-13

#### 链表和数组、栈和队列的区别和相似？


2020-06-12
#### 用https打开的页面发出http请求会报错;


#### Map/Set/Symbol数据类型？

是什么？
new Map(): 通过二位数组创建对象;
new Set(): 通过数组传入将数组中重复的数据
Symbol(): 


Set和Object的区别是什么？
1. Set创建是可迭代的对象，从而可以使用`for of`; 但是通过`Object`创建的对象则不是可迭代的对象;
2. Set创建对象没有value只有key，`Object`则既有`value`也有`key`;
3. Set创建的key都是唯一的，而`Object`则不是;


Set和Array的区别是什么？ 值得唯一性;


Set对象使用的场景有哪些？


Set对象的创建解决之前哪些问题？




#### Object关于`prototype`有哪些方法？

Object.prototype.isPrototypeOf(target);
Object.setPrototypeOf(target, source);
Object.getPrototypeof(target, source);


#### Object关于`property`的API有哪些？

分为三个部分：定义(c)、获取(g)、判断()

Object.defineProperties()
Object.defineProperty()


获取自身属性的方法
Object.getOwnPropertyDescriptor()
Object.getOwnPropertyName()
Object.getOwnPropertySymbol();

Object.prototype.hasOwnProperty()


#### Object.entries和Object.fromEntries 的作用？

entries将对象转化为key/value的二位数组;
fromEntries则是将二位数组转成对象;


#### 从`Object API`中学到哪些东西？
1. `is+形容词`: 比如freeze有动词名词功能但没有形容词, 因为is后面需要增加形容词，所以freeze改成frozen;
2. API设计是成组出现的, 覆盖的功能比较全;


#### 关于对象属性的操作有哪些成对的API？

对象拓展: 
Object.isExtensible
Object.preventExtensions

对象冻结
Object.freeze
Object.isFrozen

对象锁定seal
Object.seal
Object.isSealed

extension、freeze、seal之前的关系: freeze > seal > preventExtension 包含关系，freeze最严格、seal次之、preventExtension最弱;


### Object.create有哪些作用？相比assign有什么区别？


#### Object.defineProperty中几个属性configurable、enumerable、writable三个参数的区别？

数据描述符和存储描述符不能放在一起使用;

`configurable`: 官方描述`configurable`属性为false是属性描述符不能被修改（意思是不能为二次定义）和删除（意思是不能使用delete方式), 当`configurable`为true的时候则可以被修改和删除。使用场景常量类型;

`writable`: 表示属性是否可编辑，默认是false;

`enumerable`: 表示可枚举，我理解可枚举的意思是for.in循环时候可以找到对应的属性值。默认是false不可枚举。使用场景是用于内部变量;

`set`/`get`: 当`object`的被赋值和调用时，`set`和`get`方法就会被触发;

`configurable`、`writable`和`enumerable`三个字段的关系：可删除、可写、可查找;


2020-06-11

#### constructor有哪些应用？



2020-06-10
#### Object.create 和 Object.prototype.create的区别
`Object.create`只能在`Object`下使用;
`Object.prototype.create`可以再所有实例对象中使用;

这是一种编程设计技巧。



2020-06-09

#### vscode垂直分割成两个窗口？



#### 左++和右++的使用场景有哪些？

#### webpack相关

__tapable思想、原理分析？__
通过`synchook`继承了`hook`, `synchook`的代码是由`hookCodeFactroy`模块创建的?

`hookCodeFactroy`通过`new Function`方式创建函数, 函数体是有this.content方法生成;

__webpack5的特性？__


__webpack 异步数据流是如何管理的？__


__commoChunkPlugin是原理？__
这个插件现在不用了;


__sass-loader__

`webpack`将`content`传给`sass-loader`, `sass-loader`将`content`传给`dart-sass`进行处理;

`dart-sass`处理完成后，再通过异步callback方式进行回传;

__webpack热更新原理是什么？__
热更新功能是只更新修改过的模块，其他模块不更新。
是服务端和客户端通过websocket建立长连接，然后将更新文件的进行替换; 
怎么做到的？怎么定位改的是哪个文件？如何将更新的文件推给客户端？如何将更新文件进行运行？


__webpack plugin和loader的区别是什么？__
loader是用于加载文件,plugin由于处理文件;
loader主要是接入第三方应用，比如sass-loader、less-loader，将文件暴露给第三方应用进行处理;
plugin主要是最内部代码进行处理;

能不能合并在一起？不能因为loader主要给第三方应用使用;


__webpack plugin执行流程__



__webpack loader执行流程?__



__webpack打包流程是什么?__

* webpack从配置文件entry字段获取获取入口文件;
* 开始分析入口文件，以入口文件为根目录自上而下分析出文件所有依赖;
* 加载每个文件时会使用配置相应的文件类型的loader进行载入，loader负责载入文件并进行处理;
* 在处理文件时会触发相应的hook，plugin会绑定对应的hook，对文件内容做二次操作;

__tapable有哪些异步和同步处理函数?__


2020-06-02

#### if test $[1] -ne 0 和 if test $1 -ne 0的区别？
2020-06-01


2020-06-01
#### 判断变量不存在


2020-06-01
#### shell双括号代表什么意思？
$((master))


2020-06-01
#### linux 安装yarn命令

```


```



#### yarn安装忽略版本号？
`yarn --ignore-engines`


#### svg点灯的动画是如何做出来的？
[codepen 样例](https://codepen.io/chrisgannon/pen/emVgMg)  

分解
* 样式
  * 形状
  * 颜色
  * 方向
  * 阴影
* 动画
  * tranform
    * translate
    * rotate 
    * skew
    * opacity
  * duration
  * tweening

灯泡、叶子的形状如何画出？使用Bezier Curve曲线画出。
阴影如何画出？用bezier曲线画出区域，然后用黑色进行填充。
路径如何从起点到终点的动画展示？

path元素中`M和C`两个关键词是什么意思？M代表直线，C代表贝塞尔曲线;



#### 关于gitlab ci/cd几种通信方式

* 提纲
  * User->Gitlab->Runner
  * User->Gitlab（提交代码后gitlab如何知道)
  * Gitlab->Runner (如何通信的 )
  * Runner->Gitlab (如何返回结果的)

* 配色和文案
  * 在箭头上写文字;
  * 参考配色
  * 内容准备



#### svg symbol,group,nestest等容器元素的区别？



#### svg animation常见的属性值？



#### svg相关类库选择？

为什么使用类库？帮助实现一些简单功能
选择svg和canvas一起还是组合的？svg和canvas每个单独选个库，这样后面方便切换，而且兼容性更好。

svg方面选择svg.js,原因是svg.js是函数式编程进行链式调用;

svg.js包含哪些内容:

* class
* mulitpaint(手动操作)
* animation
  * animate
  * runner
  * timeline
* plugins

svg.js存在的问题无法生存动作节点，导出来都是静止的svg;

#### gif.js模块实现逻辑

1. 将dom转化成canvas的原理参考gif.js;
2. 通过addFrame方法增加节点;
3. 最后将节点输出;

#### URL.createObjectURL

给`blob`生成url地址，通过`<a>`标签进行下载，`<a>`标签能下载的前提是有`downloadName`属性
```js
URL.createObjectURL(blob);
```

#### 将domtoimage.js模块实现逻辑;

1. 获取dom节点类型，使用对照表比如`div`转换`rect`，找到对应的元素。
2. 获取节点的样式类型，再使用`canvas stroke`和 `fill`进行转化;
3. 最后再通过canvas `toDataBlob` `toDataImage`两个方法进行输出;


#### svg标签属性值的含义

xmlns: xmlnd命名空间，我理解是用不同解析器进行解析;

2020-05-26

#### svg图片能否在github readme上展示？

![右击打开新标签](../static/svgjs.svg)

2020-05-26

#### 如果设置动画

通过使用@keyframes关键词设置动画;


#### 如何让动画停在最后一帧上？

`animation`属性有多个子属性：

* `animation-name`: 设置动画的名称
* `animation-duration`: 设置动画持续时间;
* `animation-delay`: 设置动画持续时间;
* `animation-fall` ?

#### 如果做一个箭头?
用到几个属性值：transform, transform-origin, 

css坐标系和迪科尔坐标系旋转方向是相反的; css坐标系以逆时针旋转的;

transform: rotate旋转;

transform-origin 设置旋转的原点;

```html
<div class="line" style="top: 75px; left: 100px; width: 0px;"></div>  
```

```css
.line::after, .line::before{
  content: " ";
  display: block;
  position: absolute;  
  top: 0px;
  right: -16px;
  height: 2px;
  width: 16px;
  background: #F9F6F7;
  transform-origin: 0% 50%;
  
}
.line::after {  
  transform: rotate(205deg);
}
.line::before {
  transform: rotate(155deg);
}
```

2020-05-25

#### ::before和::after的两个伪类不起作用？
这两个伪类需要增加content属性才能有作用。比如content:" "


2020-05-25
### rollup-plugin-commonjs


2020-05-20
### 函数体重嵌套箭头函数，那么箭头函数的argument指向为什么上父函数的argument?




### 为什么rollup不加载node_modules里面的模块？



2020-05-20
### rollup有format字段有哪些值？

cjs



Announcing a new --experimental-modules

### nvm in windows不起作用



### Rollup Error: You must supply options.name for UMD bundles



### 执行rollup方法出现unexpected token import

rollup不会自动对import做转换。 

如果node不支持import的话，就会报错;


### npm install -g 全局安装失败


2020-05-18

### babel-node如何rollup配合使用



### React Hook useState和useEffect方法

使用React Hook可以在函数内使用React state和自动render等功能。

它的好处有几点：

1. 打破了Class类的限制，函数相比于Class类显得更加简洁和灵活;
2. 对于组件之间共用状态的场景，用函数更加方便;

使用React Hook写出的代码更加可预测. 

什么是语法提案？

组件预编译？

component folding?

react的精神原则？

响应式编程？

2020-05-15

### 什么是高阶组件？


### 解决gitlab-runner下载node_modules速度慢的问题？
分别用了cache、artifacts、将node_modules移到上一层目录、`npm ci`、`yarn install --frozen-locefile`等方式来解决这个问题;

cache: 为下一个pipeline缓存一些文件;
artifacts: 是将一个job的资源传递给下一个;

在node_modules文件很大的情况下，上面两种方案node_modules加载的时间比npm install还要长.....

将node_modules移到上一层目录的方案需要处理很多情况，很容易出错;

最终选择`npm ci`和`yarn install --frozen-locefile`两种方式，`npm ci`省去了查找和压缩树等步骤从而比`npm i`快一倍以上;

2020-05-15

### 为什么gitlab-runner每次都会删除node_modules

1. 无法保证node_modules是最新版本;
2. runner是公用，所以要保持环境的干净;

2020-05-15

### npm publish是出现`not permitted unlink`

可能有两种情况导致

1. 没有登录，使用`npm login`进行登录后再操作
2. `register`注册源被修改，使用`npm config set register value`进行修改

2020-05-14

### node获取文件所在路径

使用`__dirname`可以获取文件所在的文件夹绝对路径;

`__filename`可以获取文件绝对路径;

`process.cwd()`可以获取调用时所在路径;


2020-05-14

### 调用git commit api是出现{message: "9:branch diverged}
在相同的`repository`和相同的`branch`发起git commit api，特别是这个文件还没有被提交;


### 如何git commit api 提交文件夹？


### shell `<`号作用

`shell`的`<`小于号表示一个输入重定向; 对应 `>`大于号表示输出重定向;

所谓输入重定向是指：内容输入不是从键盘输入，而是从文件输入;
所谓输出重定向是指：内容不是输出到屏幕中，而是输出到文件中;

今天再用`curl`提交时用到这个方法:
```
curl --request post https://**********
--form "content=</lib/commit.sh"
```
content字段值是commit.sh文件的内容;


2020-05-14

### 如何将一个repository的代码提交到另一个repository中？

使用gitlab api来实现这个功能，[对应接口](https://docs.gitlab.com/ee/api/commits.html#create-a-commit-with-multiple-files-and-actions)

通过curl方式来调用这个接口，需要注意的下面几点: 

1. 需要提交每个文件的信息不能提交一个文件夹;
2. 不能在当前分支去提交，会导致`Branch diverged`错误;

2020-05-14

### npm install做了什么？

1. 读取`package.json`文件`dependencies`和`devDependencies`属性值;
2. 将`dependencies`和`devDenpendencies`属性值中每个模块作为根节点;
3. 找到每个根节点依赖的所有节点，并生成依赖树;
4. 寻找依赖树中相同的模块，判断是否可以兼容, 如果可以兼容则压平依赖树（请求register服务）;
5. 将模块下载到./npm目录中，通过版本号进行管理;
6. 最后从./npm中解压到本地node_modules文件夹中;

2020-05-14

### npm设置node_modules引用地址

npm cache

npm offline等等

NODE_PATH 

2020-05-14

### yum安装模块原理

`yum`是linux上一个包管理工具。通过命令行的方式运行，用法很像`npm`。

2020-05-14

### chcp命令是什么？

`chcp`是windows改变cmd代码页(字符编码)的命令;

`chcp`显示当前代码页

`chcp xxx`设置代码页;


2020-05-14

### 为什么yarn --f-g安装这么快？

`yarn install --frozne-lock`方法


2020-05-14

### 在测试机上无法安装node-sass模块（已解决）

`node-sass`模块难安装是出了名，加上测试机没有翻墙功能导致npm install卡死。

`npm`有一个配置文件叫`.npmrc`，在执行`npm`命令时候会使用`.npmrc`里面的配置。

通过`npm config set key value`方式来设置配置，配置设置成功可以通过 `npm config ls -l`来展示;

我们通过设置镜像地址和node-sass地址来解决卡死的问题

```shell
npm config set registry https://registry.npm.taobao.org
npm config set phantomjs_cdnurl https://npm.taobao.org/dist/phantomjs
npm config set sass_binary_site https://npm.taobao.org/mirrors/node-sass/
```

2020-5-13  


### 如何用dart-sass替换node-sass模块（已解决）

`webpack`的`sass-loader`默认使用`node-sass`作为sass编译模块的。

通过`sass-loader`在options中暴露一个字段`impentions`用来使用其他sass编译模块, 配置如下

```javascript
   {
      type: sass-loader
      options: {
          implementation: require("sass") //require("dart-sass")
      }
   }  
```

2020-5-13


### shell curl脚本多行命令运行失败（已解决）

当一行脚本很长时，可以使用反斜杠`\`来分割脚本，注意是`\`后面不能有空格（我理解是多的空格会导致shell编译器分割错误)
```
curl --request POST "${HOST}${CI_PROJECT_ID}/merge_requests" \
--header PRIVATE-TOKEN:${GITLAB_PRIVATE_TOKEN} \
--form id=${CI_PROJECT_ID} \
--form title=${CI_COMMIT_REF_NAME} \
--form source_branch=${CI_COMMIT_REF_NAME} \
--form target_branch=${TARGET_BRANCH}; 
```

2020-05-13

### 如何yaml中执行带有变量的字符串命令（未解决）

错误代码如下
```yaml
variable:
  PROJECT_NAME: demo

job1: 
  stage: build
  script:
    - ../${PROJECT_NAME}/node_modules/.bin/jest
```
当runner执行job1时，会出现
```
../${PROJECT_NAME}/node_modules/.bin/jest 路径不存在
```
按理说应该会解析成：
```
../demo/node_modules/.bin/jest
```
2020-5-12  

### gitlab ci/cd 如何在一个手动任务之后运行一个自动化任务 (未解决)

`gitlab v11`版本中存在job执行顺序问题: 没法实现一个自动任务在一个手动任务运行之后自动执行? 

`gitlab v11`默认逻辑: 一次把所有自动化任务都执行完;

2020-5-12  

### npm ci 和 npm i区别是什么？(未解决)

2020-5-12  




